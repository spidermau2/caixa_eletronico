#Versão com funções e try except

from IPython.display import clear_output

def exibir_saldo(saldo):
    print(f"Seu saldo é: R${saldo:.2f}")
    input("Pressione enter para continuar...")

def depositar(saldo):
    valor_deposito = 0   
    questao = 1
    
    while questao != 0:
        try:
            valor_deposito = float(input(f"Insira valor para depósito (Valor atual: R${saldo:.2f}): "))
        except ValueError:
            print("Valor inválido. Insira um número válido.")
            continue
        
        while valor_deposito < 1:
            valor_deposito = float(input("Valor inválido, reinsira: "))
            
        questao = float(input(f"Você depositou R${valor_deposito:.2f}, seu novo total é: R${saldo + valor_deposito:.2f}. Deseja continuar? (0-Sim/1-Não)"))

    if questao == 0:
        saldo = saldo + valor_deposito
    return saldo

def sacar(saldo):
    valor_saque = 0   
    questao = 1

    while questao != 0:
        try:
            valor_saque = float(input(f"Insira valor para saque (Valor atual: R${saldo:.2f}): "))
        except ValueError:
            print("Valor inválido. Insira um número válido.")
            continue
        
        while valor_saque < 0 or valor_saque > saldo:
            valor_saque = float(input("Valor inválido, reinsira: "))
            
        questao = float(input(f"Você retirou R${valor_saque:.2f}, seu novo total é: R${saldo - valor_saque:.2f}. Deseja continuar? (0-Sim/1-Não)"))
        
        if questao == 0:
            saldo = saldo - valor_saque

    return saldo

saldo = 1000.00
opcao = 0
saida = 0

print("Bem-vindo ao Caixa Eletrônico!\n")
input("Pressione enter para continuar...")

while saida == 0:
    clear_output()
    opcao = int(input("O que deseja fazer?\n1- Verificar saldo\n2- Depositar dinheiro\n3- Sacar dinheiro\n4- Sair\nEscolha uma opção (1-4)"))
    
    if opcao == 1:
        clear_output()
        exibir_saldo(saldo)
        
    elif opcao == 2:
        clear_output()
        saldo = depositar(saldo)
        
    elif opcao == 3:
        clear_output()
        saldo = sacar(saldo)
        
    elif opcao == 4:
        saida = 1
        print("\nFim do programa.\n")
